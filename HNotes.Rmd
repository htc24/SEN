---
title: "SESYNC Cyber Training Summer Institute"
author: "Janardan & Holly"
date: "7/26/2019"
output: html_document
---

## Social-Ecological Narratives Graduate Pursuit  

#### Leveraging Social-Ecological Narratives for Sustainability Insights: How Do Environmental Conditions and Perceptions Interact Along Maineâ€™s Storied Coast?  


**Collaborators**

* Janardan Mainali
* Holly Cronin
* Melissa Kimble
* Andrew Sellers
* Kacey Stewart
* Anna Woodhead  

**Introduction**

This Graduate Pursuit aims to explore the role of narratives within social-ecological system dynamics. We define these **social-ecological narratives** as *the stories through which communities understand their interactions and co-dependencies with an ecological system*. Our methods rely on data integration and analysis across natural sciences, social sciences, and humanities--in particular [natural language processing](https://cran.r-project.org/web/views/NaturalLanguageProcessing.html) of under-utilized data from literary, media, and other textual sources.


Our project proposes to apply this approach to the case-study of oysters (*Crassostrea virginica*) in coastal Maine. Here we present our initial approach to prepare a variety of text-based data sources for analysis.


### Overview of Preparations for Text Analysis  


<img title="Figure 6.1: A flowchart of a text analysis that incorporates topic modeling. The topicmodels package takes a Document-Term Matrix as input and produces a model that can be tided by tidytext, such that it can be manipulated and visualized with dplyr and ggplot2. Source: https://www.tidytextmining.com/topicmodeling.html" src="https://www.tidytextmining.com/images/tidyflow-ch-6.png" width="40%"/>

* Convert various documents to standardized .txt files using template header (thanks Melissa!)

```
        START HEADER
        SOURCE: 
        TITLE: 
        AUTHOR: 
        DATE:
        LOCATION:
        TYPE:  
        END HEADER

        This is the body, or primary text of the article.
```
  
* Collect .txt files into a corpus of documents and create a [corpus object](https://www.tidytextmining.com/dtm.html#tidying-corpus-objects-with-metadata) in RStudio   

```{r}

[Insert VCorpus code here :)]

```

* Extract data (header and body text) from each document in corpus to create a single table with header items and body as columns

```{r}

[Insert table-making code here :)]

```

* Clean data...

```{r}

[Insert data cleaning code here :)]

```

* Create a [document term matrix](https://cran.r-project.org/web/packages/tidytext/vignettes/tidying_casting.html)  

```{r}

[Insert dtm code here :)]

```

* Search for themes that emerge from our corpus using [topic modeling](https://cran.r-project.org/web/packages/tidytext/vignettes/topic_modeling.html) and Latent Dirichlet allocation (LDA) to fit a topic model

```{r}

[Insert LDA code here :)]

```

* Visualize emerging themes by creating a set of word clouds to present results of topic modeling

```{r}

[Insert wordcloud code here :)]

```

* Let's take a look and try to interpret our preliminary results...

![Results of preliminary topic modeling for corpus of documents related to oysters in Maine (n.b. sample data used is just a ~20 document subset of our text data) ](https://i.imgur.com/loAcozC.png)  

* Now that we have a sense of what people are discussing, how are they feeling about these topics? Let's see if we can gain any insights by using sentiment analysis

```{r}

[Insert sentiment analysis code here :)]

```

![Results of preliminary sentiment analysis for corpus of documents related to oysters in Maine (n.b. sample data used is just a ~20 document subset of our text data) ](https://i.imgur.com/u8CHxDy.png) 

```{r pressure, echo=FALSE}
plot(pressure)
```

* Next steps: to explore word frequency over time and think about options for geolocating the documents within our corpus to link with other data types and map narrative...
